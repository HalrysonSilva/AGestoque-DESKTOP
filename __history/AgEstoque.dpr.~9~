program AgEstoque;

uses
  Forms, Vcl.Dialogs, // Esta unit contém TForm e a declaração de mrOk.
  // Units específicas do seu projeto
  FRMSENHA in 'FRMSENHA.pas' {FRMSEN},
  FRMAGESTOQUE in 'FRMAGESTOQUE.pas' {frmmenu},
  CONEXAOBD in 'CONEXAOBD.pas' {DataModule1};

{$R *.res}

begin
  Application.Initialize;

  // 1. Cria o DataModule de Conexão
  Application.CreateForm(TDataModule1, DataModule1);

  // 2. Cria o Formulário de Login
  Application.CreateForm(TFRMSEN, FRMSEN);
  try
    // 3. Exibe a tela de login. Se o resultado for mrOk, avança.
    if FRMSEN.ShowModal = mrOk then
    begin
      // 4. Cria o Formulário Principal (Menu)
      Application.CreateForm(Tfrmmenu, frmmenu);

      // 5. Inicia a Aplicação com o Menu
      Application.Run;
    end;
  finally
    // 6. Libera o formulário de login da memória
    FRMSEN.Free;
  end;

end.

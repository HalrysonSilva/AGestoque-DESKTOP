object Formposicaoest: TFormposicaoest
  Left = 0
  Top = 0
  Caption = 'Formposicaoest'
  ClientHeight = 632
  ClientWidth = 835
  Color = clBtnFace
  Font.Charset = ANSI_CHARSET
  Font.Color = clWindowText
  Font.Height = -13
  Font.Name = 'Segoe UI Semibold'
  Font.Style = [fsBold]
  OldCreateOrder = False
  PixelsPerInch = 96
  TextHeight = 17
  object Panel1: TPanel
    Left = 0
    Top = 0
    Width = 835
    Height = 297
    Align = alTop
    TabOrder = 0
    object Label1: TLabel
      Left = 1
      Top = 1
      Width = 833
      Height = 30
      Align = alTop
      Alignment = taCenter
      Caption = 'Produtos'
      Font.Charset = ANSI_CHARSET
      Font.Color = clWindowText
      Font.Height = -21
      Font.Name = 'Segoe UI Semibold'
      Font.Style = [fsBold]
      ParentFont = False
      ExplicitWidth = 88
    end
    object DBGridprodutos: TDBGrid
      AlignWithMargins = True
      Left = 4
      Top = 34
      Width = 827
      Height = 259
      Align = alClient
      DataSource = DSQRYPRODUTOSABERTOS
      TabOrder = 0
      TitleFont.Charset = ANSI_CHARSET
      TitleFont.Color = clWindowText
      TitleFont.Height = -13
      TitleFont.Name = 'Segoe UI Semibold'
      TitleFont.Style = [fsBold]
    end
  end
  object Panel2: TPanel
    Left = 0
    Top = 297
    Width = 835
    Height = 335
    Align = alClient
    TabOrder = 1
    object Label2: TLabel
      Left = 1
      Top = 1
      Width = 833
      Height = 30
      Align = alTop
      Alignment = taCenter
      Caption = 'Pedidos'
      Font.Charset = ANSI_CHARSET
      Font.Color = clWindowText
      Font.Height = -21
      Font.Name = 'Segoe UI Semibold'
      Font.Style = [fsBold]
      ParentFont = False
      ExplicitWidth = 75
    end
    object DBGridpedidos: TDBGrid
      AlignWithMargins = True
      Left = 4
      Top = 34
      Width = 827
      Height = 297
      Align = alClient
      DataSource = DSQRYPEDIDOS
      TabOrder = 0
      TitleFont.Charset = ANSI_CHARSET
      TitleFont.Color = clWindowText
      TitleFont.Height = -13
      TitleFont.Name = 'Segoe UI Semibold'
      TitleFont.Style = [fsBold]
    end
  end
  object QRYPRODUTOSABERTOS: TUniQuery
    Connection = DataModule1.ConDados
    SQL.Strings = (
      'SELECT '
      '    B.LkProduto AS LkProduto, '
      '    P.CodInterno, '
      '    P.Produto, '
      '    P.CodBarra, '
      '    P.CodFornecedor,'
      '    P.Moeda AS Localizacao, '
      '    G.Setor AS Grupo, '
      '    P.Fabricante AS Marca, '
      '    F.Empresa AS Fornecedor, '
      '    P.Quantidade AS QtdEstoque, '
      '    CAST(SUM(B.Qtdreal) AS NUMERIC(12, 2)) AS QtdReserva, '
      '    COUNT(DISTINCT A.Pedido) AS NumPedidos '
      'FROM TabEst3B B WITH (NOLOCK) '
      'INNER JOIN TabEst3A A WITH (NOLOCK) ON A.Pedido = B.PEDIDO '
      'INNER JOIN TABEST1 P WITH (NOLOCK) ON P.Controle = B.LkProduto '
      'LEFT JOIN TabEst8 G WITH (NOLOCK) ON P.LkSetor = G.Controle '
      'LEFT JOIN TabFor F WITH (NOLOCK) ON P.LkFornec = F.Controle '
      'WHERE A.Cancelada <> 1 '
      '  AND A.VENDA <> 1 '
      '  AND A.STATUS ='#39'P'#39' '
      'GROUP BY '
      '    B.LkProduto, '
      '    P.CodInterno, '
      '    P.Produto, '
      '    P.Quantidade, '
      '    P.CodFornecedor, '
      '    P.Moeda, '
      '    G.Setor, '
      '    P.Fabricante, '
      '    F.Empresa, '
      '    P.CodBarra '
      'ORDER BY '
      '    P.Produto')
    Left = 69
    Top = 88
  end
  object DSQRYPRODUTOSABERTOS: TDataSource
    DataSet = QRYPRODUTOSABERTOS
    Left = 77
    Top = 160
  end
  object QRYPEDIDOS: TUniQuery
    Connection = DataModule1.ConDados
    SQL.Strings = (
      'SELECT '
      '    A.*, '
      '    B.Qtdreal AS QuantidadeItem,'
      '    CASE '
      '        WHEN A.STATUS = '#39'P'#39' THEN '#39'PR'#201'-VENDA'#39' '
      '        WHEN A.STATUS = '#39'O'#39' THEN '#39'OR'#199'AMENTO'#39' '
      '        ELSE '#39'OUTROS'#39' '
      '    END AS Situacao'
      'FROM '
      '    TabEst3A A WITH (NOLOCK)'
      'INNER JOIN '
      '    TabEst3B B WITH (NOLOCK) ON A.Pedido = B.PEDIDO'
      'WHERE '
      '    A.Data >= :DataInicio AND A.Data <= :DataFim '
      '    AND A.Cancelada <> 1 '
      '    AND A.VENDA <> 1 '
      '    AND A.STATUS ='#39'P'#39' '
      
        '    AND B.codinterno = :LkProduto -- CHAVE MESTRE: ID do produto' +
        ' selecionado em QRYPRODUTOSABERTOS'
      'ORDER BY '
      '    A.Pedido DESC')
    Left = 69
    Top = 304
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'DataInicio'
        Value = nil
      end
      item
        DataType = ftUnknown
        Name = 'DataFim'
        Value = nil
      end
      item
        DataType = ftUnknown
        Name = 'LkProduto'
        Value = nil
      end>
  end
  object DSQRYPEDIDOS: TDataSource
    DataSet = QRYPEDIDOS
    Left = 69
    Top = 376
  end
  object QRYCODINTERNO: TUniQuery
    Connection = DataModule1.ConDados
    Left = 72
    Top = 216
  end
end
